## 模板方法模式对代码进行优化

目前我们的FileManager文件内写了两种不同的上传文件的方法,但是我们会发现,这两种方法的流
程完全一致、而且大多数代码都是相同的。

这种情况下,我们就要想要运用设计模式--模板方法模式对代码进行优化
模板方法模式是行为型设计模式,适用于具有通用处理流程、但处理细节不同的情况。

通过定义一个抽
象模板类,提供通用的业务流程处理逻辑,并将不同的部分定义为抽象方法,由子类具体实现。
在我们的场景中,两种文件上传方法的流程都是:

1.校验文件

2.获取上传地址

3.获取本地临时文件

4.上传到对象存储

5.封装解析得到的图片信息

6.清理临时文件


可以将这些流程抽象为一套模板(抽象类),将每个实现不一样的步骤都定义为一个抽象方法,比如:

- 校验图片
- 获取文件名称
- 保存临时文件